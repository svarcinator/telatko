-- Simple testing environment


MODULE main

VAR
reset  : boolean;
clock  : boolean;
read_enable  : boolean;
write_enable : boolean;
full   : boolean;
empty  : boolean;

fifo : buffer(reset, clock, read_enable, write_enable, full, empty);


LTLSPEC
          reset & !clock &  write_enable -- step_counter 0
   & X ( !reset &  clock                 -- step_counter 1
   & X ( !reset                          -- step_counter 2
   & X ( !reset & !clock & !read_enable &  write_enable  -- step_counter 3
   & X ( !reset &  clock                 -- step_counter 4
   & X ( !reset                          -- step_counter 5
   & X ( !reset & !clock &  read_enable &  write_enable  -- step_counter 6
   & X ( !reset &  clock                 -- step_counter 7
   & X ( !reset                          -- step_counter 8
   & X ( !reset & !clock & !read_enable &  write_enable  -- step_counter 9
   & X ( !reset &  clock                 -- step_counter 10
   & X ( !reset & !clock &  read_enable  -- step_counter 11
   & X ( !reset &  clock                 -- step_counter 12
   & X ( !reset & !clock                 -- step_counter 13
   & X (  reset &  clock                 -- step_counter 14
   & X ( !reset & !clock & !write_enable -- step_counter 15
   & X ( !reset &  clock                 -- step_counter 16
   & X ( !reset & !clock &  write_enable -- step_counter 17
   & X ( !reset &  clock                 -- step_counter 18
  ))))))))))))))))))
  -> 
         !full &  empty     -- step_counter 0
   & X ( !full & !empty     -- step_counter 1
   & X ( !full & !empty     -- step_counter 2
   & X ( !full & !empty     -- step_counter 3
   & X ( !full & !empty     -- step_counter 4
   & X ( !full & !empty     -- step_counter 5
   & X ( !full & !empty     -- step_counter 6
   & X ( !full & !empty     -- step_counter 7
   & X ( !full & !empty     -- step_counter 8
   & X ( !full & !empty     -- step_counter 9
   & X (  full & !empty     -- step_counter 10
   & X (  full & !empty     -- step_counter 11
   & X ( !full & !empty     -- step_counter 12
   & X ( !full & !empty     -- step_counter 13
   & X ( !full &  empty     -- step_counter 14
   & X ( !full &  empty     -- step_counter 15
   & X ( !full &  empty     -- step_counter 16
   & X ( !full &  empty     -- step_counter 17
   & X ( !full & !empty     -- step_counter 18
  ))))))))))))))))));


#define SIZE 3

#include "hw03_buffer.smv"
